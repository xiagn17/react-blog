{"version":3,"sources":["components/Header/index.js","components/ArticleContent/index.js","components/ArticleFullPage/index.js","components/Article/index.js","components/List/index.js","components/LoadPost/index.js","components/Navigation/index.js","socketApi.js","components/Main/index.js","components/Loading/index.js","components/App/index.js","index.js"],"names":["Header","react_default","a","createElement","className","href","target","rel","ArticleContent","_ref","unixTime","article","header","Date","toLocaleDateString","year","day","month","dangerouslySetInnerHTML","__html","content","picUrl","src","alt","ArticleFullPage","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","opacity","undefined","setState","getComputedStyle","document","querySelector","_this$props","props","hideArticle","style","src_components_ArticleContent","onClick","Component","Article","checkLength","length","moreThan500","showFullArticle","cutArticle","create","substring","concat","List","articles","map","item","_id","key","src_components_Article","LoadPost","pullDataClearCache","Navigation","page","clickHandlerPlus","clickHandlerMinus","count","isMounted","socket","openSocket","socketHandler","component","on","newPost","Main","pullData","_this$state","cache","loadingTrigger","axios","then","posts","data","objectSpread","Promise","resolve","reject","prevState","updateArticles","window","scrollTo","_this2","_this$state2","src_components_List","src_components_Navigation","src_components_LoadPost","Loading","App","body","overflow","fullArticle","classList","add","setTimeout","isLoading","src_components_Loading","src_components_Header","components_Main","src_components_ArticleFullPage","ReactDOM","render","src_components_App","getElementById"],"mappings":"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","file":"static/js/main.bd46d56a.chunk.js","sourcesContent":["import React from 'react';\r\nimport './index.css';\r\n\r\n\r\n\r\nconst Header = () =>\r\n    (<header>\r\n        <h1 className=\"header\">\r\n            Блог Никиты\r\n        </h1>\r\n        <div className=\"contacts\">\r\n            <div className=\"contacts-network\">\r\n                <a href=\"mailto:nikita.grigoriew00@gmail.com\">\r\n                    E-mail\r\n                </a>\r\n            </div>\r\n            <div className=\"contacts-network\">\r\n                <a\r\n                    href=\"https://t.me/sweetnik\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                >\r\n                    Telegram\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </header>);\r\n\r\n\r\n\r\nexport default Header;","import React from 'react';\r\nimport './index.css';\r\n\r\n\r\nconst ArticleContent = ({ unixTime, article }) => {\r\n\r\n    return (\r\n        <div className='article-main container'>\r\n            <header>\r\n                <h2 className='article-header'>\r\n                    {article.header}\r\n                </h2>\r\n                <span>\r\n                    {\r\n                        new Date(unixTime * 1000).toLocaleDateString('en-US', {\r\n                            year: 'numeric',\r\n                            day: 'numeric',\r\n                            month: 'long'\r\n                        })\r\n                    }\r\n                    </span>\r\n            </header>\r\n\r\n            <article>\r\n                <div\r\n                    className=\"article-content\"\r\n                    dangerouslySetInnerHTML={{ __html: article.content }}\r\n                />\r\n                { article.picUrl ?\r\n                    <div className=\"img\">\r\n                        <img\r\n                            src={article.picUrl}\r\n                            alt='no-errors'\r\n                        />\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n\r\n            </article>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default ArticleContent;","import React, { Component } from 'react';\r\nimport './index.css';\r\n\r\nimport ArticleContent from '../ArticleContent';\r\n\r\n\r\nclass ArticleFullPage extends Component {\r\n\r\n    constructor () {\r\n        super();\r\n\r\n        this.state = {\r\n            opacity: undefined\r\n        }\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.setState({\r\n            opacity: getComputedStyle(document.querySelector('.wrapper-fade')).opacity\r\n        });\r\n    }\r\n\r\n\r\n    render () {\r\n        const { opacity } = this.state;\r\n        const {\r\n            article,\r\n            unixTime,\r\n            hideArticle\r\n        } = this.props;\r\n\r\n        if (opacity !== undefined) {\r\n            const fullArticle = document.querySelector('.wrapper-fade');\r\n            fullArticle.style.opacity = '1';\r\n        }\r\n\r\n        return (\r\n            <div className='wrapper-fade'>\r\n                <div className='wrapper-fade-relative'>\r\n                    <ArticleContent\r\n                        unixTime={unixTime}\r\n                        article={article}\r\n                    />\r\n                    <button\r\n                        className='closeArticle'\r\n                        onClick={hideArticle}\r\n                    >\r\n                        <i className=\"far fa-times-circle\" />\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default ArticleFullPage;","import React, { Component } from 'react';\r\nimport './index.css';\r\n\r\nimport ArticleContent from '../ArticleContent'\r\n\r\n\r\n\r\nclass Article extends Component {\r\n\r\n    constructor () {\r\n        super();\r\n\r\n        this.state = {\r\n            moreThan500: false\r\n        }\r\n    }\r\n\r\n\r\n    checkLength = () => {\r\n        const { article } = this.props;\r\n\r\n        if (article.content.length > 500) {\r\n            this.setState({\r\n                moreThan500: true\r\n            })\r\n        }\r\n    };\r\n\r\n    componentDidMount () {\r\n        this.checkLength();\r\n    }\r\n\r\n\r\n\r\n    render () {\r\n        const { moreThan500 } = this.state;\r\n        const {\r\n            unixTime,\r\n            article,\r\n            showFullArticle\r\n        } = this.props;\r\n\r\n        let cutArticle = Object.create(article);\r\n        if (moreThan500) {\r\n            cutArticle.content = cutArticle.content.substring(0, 500).concat('...');\r\n        }\r\n\r\n        return (\r\n            <div className='article'>\r\n                <ArticleContent\r\n                    unixTime={unixTime}\r\n                    article={cutArticle}\r\n                />\r\n                { moreThan500 ?\r\n                    <button\r\n                        className='showMore'\r\n                        onClick={() => {\r\n                            showFullArticle(article, unixTime)\r\n                        }}  // кнопка выводит текст статьи\r\n                    >\r\n                        Показать больше\r\n                    </button>\r\n                    :\r\n                    null\r\n                }\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Article;","import React from 'react';\r\nimport './index.css'\r\n\r\nimport Article from '../Article';\r\n\r\n\r\n\r\nconst List = ({ articles, showFullArticle }) => {\r\n    return (\r\n        <section className='content'>\r\n            {\r\n                articles.map(item => {\r\n                    const {\r\n                        unixTime,\r\n                        article,\r\n                        _id\r\n                    } = item;\r\n\r\n                    return (\r\n                        <div\r\n                            className='wrapper-article'\r\n                            key={_id}\r\n                        >\r\n                            <Article\r\n                                unixTime={unixTime}\r\n                                article={article}\r\n                                showFullArticle={showFullArticle}\r\n                            />\r\n                        </div>\r\n                    );\r\n                })\r\n            }\r\n        </section>\r\n    );\r\n};\r\n\r\n\r\n\r\nexport default List;","import React from 'react';\r\nimport './index.css';\r\n\r\n\r\n\r\nconst LoadPost = ({ pullDataClearCache }) => {\r\n    return (\r\n        <div className='load-post animated slideInLeft duration-1s'>\r\n            <div className='text'>\r\n                The new Article is released!\r\n            </div>\r\n            <button\r\n                className='load-post-button'\r\n                onClick={pullDataClearCache}\r\n            >\r\n                <i className=\"fas fa-redo-alt btn-rotate\" />\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default LoadPost;","import React from 'react';\r\nimport './index.css';\r\n\r\n\r\n\r\nconst Navigation = ({\r\n         page,\r\n         clickHandlerPlus,\r\n         clickHandlerMinus,\r\n         count,\r\n         isMounted\r\n     }) => {\r\n\r\n    return (\r\n        !isMounted ?\r\n            null\r\n            :\r\n            (page === 1 ?\r\n                <div className=\"navigation\">\r\n                    <button\r\n                        className='nextPage'\r\n                        onClick={() => clickHandlerPlus()}\r\n                    >\r\n                        <i className=\"fas fa-arrow-right\"/>\r\n                    </button>\r\n                </div>\r\n                :\r\n                ((count / 3 <= page) ?\r\n                        <div className=\"navigation\">\r\n                            <button\r\n                                className='prevPage'\r\n                                onClick={() => clickHandlerMinus()}\r\n                            >\r\n                                <i className=\"fas fa-arrow-left\"/>\r\n                            </button>\r\n                        </div>\r\n                        :\r\n                        <div className=\"navigation\">\r\n                            <button\r\n                                className='prevPage'\r\n                                onClick={() => clickHandlerMinus()}\r\n                            >\r\n                                <i className=\"fas fa-arrow-left\"/>\r\n                            </button>\r\n                            <button\r\n                                className='nextPage'\r\n                                onClick={() => clickHandlerPlus()}\r\n                            >\r\n                                <i className=\"fas fa-arrow-right\"/>\r\n                            </button>\r\n                        </div>\r\n                ))\r\n    )\r\n};\r\n\r\n\r\nexport default Navigation;","import openSocket from 'socket.io-client';\r\n\r\n\r\nconst socket = openSocket();\r\n\r\nconst socketHandler = (component) => {\r\n    socket.on('new_post', () => {\r\n        component.setState({\r\n            newPost: true\r\n        });\r\n    });\r\n};\r\n\r\nexport default socketHandler;","import React, {Component} from 'react';\r\nimport axios from \"axios/index\";\r\n\r\n\r\nimport List from '../List';\r\nimport LoadPost from '../LoadPost';\r\nimport Navigation from '../Navigation';\r\n\r\nimport socketHandler from \"../../socketApi\";\r\n\r\n\r\n\r\nclass Main extends Component {\r\n\r\n    constructor () {\r\n        super();\r\n\r\n        this.state = {\r\n            articles: [],\r\n            page: 1,\r\n            count: null,\r\n            isMounted: false,\r\n            cache: {},\r\n            newPost: false\r\n        };\r\n    }\r\n\r\n    pullData = (page) => {\r\n        const { count, cache } = this.state;\r\n        const { loadingTrigger } = this.props;\r\n\r\n        loadingTrigger();\r\n\r\n        return axios(`posts?page=${page}&count=${count}`)\r\n            .then(posts => {\r\n                cache[page] = posts.data.articles;\r\n\r\n                this.setState({\r\n                    ...posts.data\r\n                });\r\n\r\n                loadingTrigger();\r\n            })\r\n    };\r\n\r\n    pullDataClearCache = () => {\r\n        const { hideArticle } = this.props;\r\n\r\n        new Promise((resolve, reject) => {\r\n            this.setState(prevState => {\r\n                resolve(prevState);\r\n\r\n                return {\r\n                    cache: {},\r\n                    page: 1,\r\n                    count: null\r\n                }\r\n            })\r\n        })\r\n            .then(() => {\r\n                const { page } = this.state;\r\n\r\n                this.updateArticles(page);\r\n                this.setState({ newPost: false });\r\n\r\n                hideArticle();\r\n            });\r\n\r\n\r\n    };\r\n\r\n\r\n    clickHandlerPlus = () => {\r\n        new Promise((resolve, reject) => {\r\n            this.setState(prevState => {\r\n                const page = ++prevState.page;\r\n\r\n                resolve(page);\r\n                return { page }\r\n            });\r\n        })\r\n            .then(this.updateArticles);\r\n    };\r\n\r\n    clickHandlerMinus = () => {\r\n        new Promise((resolve, reject) => {\r\n            this.setState(prevState => {\r\n                const page = --prevState.page;\r\n\r\n                resolve(page);\r\n                return { page }\r\n            });\r\n        })\r\n            .then(this.updateArticles);\r\n    };\r\n\r\n    updateArticles = page => {\r\n        const { cache } = this.state;\r\n\r\n        if (cache && cache[page]) {\r\n            this.setState({\r\n                articles: cache[page]\r\n            });\r\n\r\n            window.scrollTo(0, 0);\r\n        }\r\n        else {\r\n            this.pullData(page)\r\n                .then(() => {\r\n                    window.scrollTo(0, 0);\r\n                });\r\n        }\r\n    };\r\n\r\n\r\n    componentDidMount () {\r\n        const { page } = this.state;\r\n\r\n        this.pullData(page)\r\n            .then(() =>\r\n                this.setState({\r\n                    isMounted: true\r\n                }));\r\n\r\n        socketHandler(this);\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            page,\r\n            articles,\r\n            count,\r\n            isMounted,\r\n            newPost\r\n        } = this.state;\r\n        const { showFullArticle } = this.props;\r\n\r\n        return (\r\n            <div className='main'>\r\n                <List\r\n                    articles={articles}\r\n                    showFullArticle={showFullArticle}\r\n                />\r\n                <Navigation\r\n                    page={page}\r\n                    clickHandlerPlus={this.clickHandlerPlus}\r\n                    clickHandlerMinus={this.clickHandlerMinus}\r\n                    count={count}\r\n                    isMounted={isMounted}\r\n                />\r\n                { newPost ?\r\n                    <LoadPost pullDataClearCache={this.pullDataClearCache} />\r\n                    :\r\n                    null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default Main;","import React from 'react';\r\nimport './index.css';\r\n\r\n\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className='blackout'>\r\n            <i className=\"fas fa-spinner\" />\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Loading;","import React, { Component } from 'react';\r\nimport './index.css';\r\n\r\n\r\nimport Header from '../Header';\r\nimport ArticleFullPage from '../ArticleFullPage'\r\nimport Main from '../Main';\r\nimport Loading from '../Loading';\r\n\r\n\r\n\r\nclass App extends Component {\r\n\r\n    constructor () {\r\n        super();\r\n\r\n        this.state = {\r\n            article: null,\r\n            isLoading: false\r\n        }\r\n    }\r\n\r\n\r\n    showFullArticle = (article, unixTime) => {\r\n        this.setState({\r\n            article: {\r\n                ...article\r\n            },\r\n            unixTime\r\n        });\r\n\r\n        document.body.style.overflow = \"hidden\";\r\n    };\r\n\r\n    hideArticle = () => {\r\n        const fullArticle = document.querySelector('.wrapper-fade');\r\n\r\n        if (fullArticle) {\r\n            fullArticle.classList.add('animated', 'fadeOutUp', 'duration-1s');\r\n            fullArticle.style.overflow = 'hidden';\r\n\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    article: null,\r\n                    unixTime: null\r\n                });\r\n            }, 1000);\r\n\r\n            document.body.style.overflow = 'auto';\r\n        }\r\n    };\r\n\r\n    loadingTrigger = () => {\r\n        this.setState(prevState => {\r\n            const { isLoading } = prevState;\r\n            const body = document.body;\r\n\r\n            isLoading ? body.style.overflow = 'auto' : body.style.overflow = 'hidden';\r\n\r\n            return {\r\n                isLoading: !isLoading\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            article,\r\n            unixTime,\r\n            isLoading\r\n        } = this.state;\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                { isLoading ?\r\n                    <Loading/>\r\n                    :\r\n                    null\r\n                }\r\n                <div className=\"container\">\r\n                    <Header />\r\n                    <Main\r\n                        showFullArticle={this.showFullArticle}\r\n                        hideArticle={this.hideArticle}\r\n                        loadingTrigger={this.loadingTrigger}\r\n                    />\r\n                    { article ?\r\n                        <ArticleFullPage\r\n                            unixTime={unixTime}\r\n                            article={article}\r\n                            hideArticle={this.hideArticle}\r\n                        />\r\n                        :\r\n                        null\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render((\n        <App />\n    ),\n    document.getElementById('root'));\n\n\n\nif (module.hot) {\n    module.hot.accept();\n}\n"],"sourceRoot":""}