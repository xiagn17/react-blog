(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t){},111:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(39),i=a.n(r),l=(a(47),a(14)),o=a(2),s=a(3),u=a(5),m=a(4),d=a(6),f=(a(49),a(51),function(){return c.a.createElement("header",null,c.a.createElement("h1",{className:"header"},"\u0411\u043b\u043e\u0433 \u041d\u0438\u043a\u0438\u0442\u044b"),c.a.createElement("div",{className:"contacts"},c.a.createElement("div",{className:"contacts-network"},c.a.createElement("a",{href:"mailto:nikita.grigoriew00@gmail.com"},"E-mail")),c.a.createElement("div",{className:"contacts-network"},c.a.createElement("a",{href:"https://t.me/sweetnik",target:"_blank",rel:"noopener noreferrer"},"Telegram"))))}),h=(a(53),a(55),function(e){var t=e.unixTime,a=e.article;return c.a.createElement("div",{className:"article-main container"},c.a.createElement("header",null,c.a.createElement("h2",{className:"article-header"},a.header),c.a.createElement("span",null,new Date(1e3*t).toLocaleDateString("en-US",{year:"numeric",day:"numeric",month:"long"}))),c.a.createElement("article",null,c.a.createElement("div",{className:"article-content",dangerouslySetInnerHTML:{__html:a.content}}),a.picUrl?c.a.createElement("div",{className:"img"},c.a.createElement("img",{src:a.picUrl,alt:"no-errors"})):null))}),p=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={opacity:void 0},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({opacity:getComputedStyle(document.querySelector(".wrapper-fade")).opacity})}},{key:"render",value:function(){var e=this.state.opacity,t=this.props,a=t.article,n=t.unixTime,r=t.hideArticle;void 0!==e&&(document.querySelector(".wrapper-fade").style.opacity="1");return c.a.createElement("div",{className:"wrapper-fade"},c.a.createElement("div",{className:"wrapper-fade-relative"},c.a.createElement(h,{unixTime:n,article:a}),c.a.createElement("button",{className:"closeArticle",onClick:r},c.a.createElement("i",{className:"far fa-times-circle"}))))}}]),t}(n.Component),v=a(40),E=a.n(v),g=(a(75),a(77),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).checkLength=function(){e.props.article.content.length>500&&e.setState({moreThan500:!0})},e.state={moreThan500:!1},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.checkLength()}},{key:"render",value:function(){var e=this.state.moreThan500,t=this.props,a=t.unixTime,n=t.article,r=t.showFullArticle,i=Object.create(n);return e&&(i.content=i.content.substring(0,500).concat("...")),c.a.createElement("div",{className:"article"},c.a.createElement(h,{unixTime:a,article:i}),e?c.a.createElement("button",{className:"showMore",onClick:function(){r(n,a)}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"):null)}}]),t}(n.Component)),w=function(e){var t=e.articles,a=e.showFullArticle;return c.a.createElement("section",{className:"content"},t.map(function(e){var t=e.unixTime,n=e.article,r=e._id;return c.a.createElement("div",{className:"wrapper-article",key:r},c.a.createElement(g,{unixTime:t,article:n,showFullArticle:a}))}))},b=(a(79),function(e){var t=e.pullDataClearCache;return c.a.createElement("div",{className:"load-post animated slideInLeft duration-1s"},c.a.createElement("div",{className:"text"},"The new Article is released!"),c.a.createElement("button",{className:"load-post-button",onClick:t},c.a.createElement("i",{className:"fas fa-redo-alt btn-rotate"})))}),N=(a(81),function(e){var t=e.page,a=e.clickHandlerPlus,n=e.clickHandlerMinus,r=e.count;return e.isMounted?1===t?c.a.createElement("div",{className:"navigation"},c.a.createElement("button",{className:"nextPage",onClick:function(){return a()}},c.a.createElement("i",{className:"fas fa-arrow-right"}))):r/3<=t?c.a.createElement("div",{className:"navigation"},c.a.createElement("button",{className:"prevPage",onClick:function(){return n()}},c.a.createElement("i",{className:"fas fa-arrow-left"}))):c.a.createElement("div",{className:"navigation"},c.a.createElement("button",{className:"prevPage",onClick:function(){return n()}},c.a.createElement("i",{className:"fas fa-arrow-left"})),c.a.createElement("button",{className:"nextPage",onClick:function(){return a()}},c.a.createElement("i",{className:"fas fa-arrow-right"}))):null}),k=a(41),y=a.n(k)()(),O=function(e){y.on("new_post",function(){e.setState({newPost:!0})})},T=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).pullData=function(t){var a=e.state,n=a.count,c=a.cache,r=e.props.loadingTrigger;return r(),E()("posts?page=".concat(t,"&count=").concat(n)).then(function(a){c[t]=a.data.articles,e.setState(Object(l.a)({},a.data)),r()})},e.pullDataClearCache=function(){var t=e.props.hideArticle;new Promise(function(t,a){e.setState(function(e){return t(e),{cache:{},page:1,count:++e.count}})}).then(function(){var a=e.state.page;e.updateArticles(a),e.setState({newPost:!1}),t()})},e.clickHandlerPlus=function(){new Promise(function(t,a){e.setState(function(e){var a=++e.page;return t(a),{page:a}})}).then(e.updateArticles)},e.clickHandlerMinus=function(){new Promise(function(t,a){e.setState(function(e){var a=--e.page;return t(a),{page:a}})}).then(e.updateArticles)},e.updateArticles=function(t){var a=e.state.cache;a&&a[t]?(e.setState({articles:a[t]}),window.scrollTo(0,0)):e.pullData(t).then(function(){window.scrollTo(0,0)})},e.state={articles:[],page:1,count:null,isMounted:!1,cache:{},newPost:!1,isLoading:!1},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.page;this.pullData(t).then(function(){return e.setState({isMounted:!0})}),O(this)}},{key:"render",value:function(){var e=this.state,t=e.page,a=e.articles,n=e.count,r=e.isMounted,i=e.newPost,l=this.props.showFullArticle;return c.a.createElement("div",{className:"main"},c.a.createElement(w,{articles:a,showFullArticle:l}),c.a.createElement(N,{page:t,clickHandlerPlus:this.clickHandlerPlus,clickHandlerMinus:this.clickHandlerMinus,count:n,isMounted:r}),i?c.a.createElement(b,{pullDataClearCache:this.pullDataClearCache}):null)}}]),t}(n.Component),j=(a(111),function(){return c.a.createElement("div",{className:"blackout"},c.a.createElement("i",{className:"fas fa-spinner"}))}),A=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).showFullArticle=function(t,a){e.setState({article:Object(l.a)({},t),unixTime:a}),document.body.style.overflow="hidden"},e.hideArticle=function(){var t=document.querySelector(".wrapper-fade");t&&(t.classList.add("animated","fadeOutUp","duration-1s"),t.style.overflow="hidden",setTimeout(function(){e.setState({article:null,unixTime:null})},1e3),document.body.style.overflow="auto")},e.loadingTrigger=function(){e.setState(function(e){var t=e.isLoading,a=document.body;return a.style.overflow=t?"auto":"hidden",{isLoading:!t}})},e.state={article:null,isLoading:!1},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.article,a=e.unixTime,n=e.isLoading;return c.a.createElement("div",{className:"App"},n?c.a.createElement(j,null):null,c.a.createElement("div",{className:"container"},c.a.createElement(f,null),c.a.createElement(T,{showFullArticle:this.showFullArticle,hideArticle:this.hideArticle,loadingTrigger:this.loadingTrigger}),t?c.a.createElement(p,{unixTime:a,article:t,hideArticle:this.hideArticle}):null))}}]),t}(n.Component);i.a.render(c.a.createElement(A,null),document.getElementById("root"))},42:function(e,t,a){e.exports=a(113)},47:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){}},[[42,2,1]]]);
//# sourceMappingURL=main.b2ad078d.chunk.js.map